<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            //setTimeout(code, delay) // delay시간 동안 기다렸다가 code 실행
            console.log(1);

            setTimeout(() => {
                console.log(2), 2000;
            });

            // setTimeout(function () {
            //     console.log(2);
            // }, 2000);

            console.log(3);

            // 순서 1->3->2(비동기 처리 때문에 setimeout함수를 기다리지 않고 바로 실행됨)

            // 편의점에 들어가서 음료수를 사고 나오는 상황
            // function goMart() {
            //     console.log('마트에서 어떤 음료수를 살지 고민한다.');
            // }

            // function pickDrink() {
            //     setTimeout(() => {
            //         console.log('고민 끝');
            //         product = '코카콜라';
            //         price = 2000;
            //     }, 2000);
            // }

            // function pay(product, price) {
            //     console.log(`상품명: ${product}, 가격: ${price}`);
            // }

            // let product;
            // let price;
            // goMart(); //1번째로 실행
            // pickDrink(); //3번째로 실행
            // pay(product, price); //2번째로 실행

            //콜백함수: 함수 타입 파라미터 맨 마지막에 하나 더 선언
            // 다른 함수가 실행을 끝난 후 실행되는 함수(보통 익명함수로 쓰나, 기명함수로 써도 무관)
            function mainFunc(param1, param2, callback) {
                console.log(param1, param2);
                callback();
            }

            function callbackFunc() {
                console.log('콜백함수(기명) 입니다');
            }

            mainFunc(1, 2, callbackFunc);

            // 콜백함수를 사용하여 코드 수정
            function goMart() {
                console.log('마트에서 어떤 음료수를 살지 고민한다.');
            }

            // function pickDrink(cb) {
            //     setTimeout(() => {
            //             console.log('고민 끝');
            //             product = '코카콜라';
            //             price = 2000;
            //             cb(product, price)}, //콜백함수로 pay함수 실행 
            //             3000
            //     );
            // }

            function pickDrink(callback){
              setTimeout(function(){
                console.log('고민 끝!!!');
                product='사이다';
                price='5000';
                callback(product,price);
              },3000)
            }

            // 콜백함수의 원리를 내가 생각하기엔 동시에 실행됐으면 좋겠는 함수를 인자로 넣어서 함수가 딜레이 없이 동시에 실행되게 하는 역할인 것 같음

            function pay(product, price) {
                console.log(`상품명: ${product}, 가격: ${price}`);
            }

            let product;
            let price;
            goMart();
            pickDrink(pay);
        </script>
    </body>
</html>
